1. Multi-tenant (lo que te diferencia)
SuperAdmin
  └── Restaurant A
  |       └── users, mesas, productos, ventas
  └── Restaurant B
          └── users, mesas, productos, ventas
          
2. Autenticación PRO (NestJS)
- Access Token (15 min)
- Refresh Token (7 días)
- Rotación de refresh
- Cookies HttpOnly
- Logout global
- Roles:
	- super_admin
	- owner
	- cashier
	- waiter
	- kitchen

Backend (Modulos)
------------------------------
- Auth		Login, refresh, roles
- Tenancy	Manejo de restaurantes
- Users		Empleados
- Tables	Mesas
- Products	Carta
- Orders	Pedidos
- Kitchen	Estados en tiempo real
- Payments	Efectivo, Yape, etc
- Reports	Ventas, ranking
- QR		Carta digital

Tablas
---------------------------
1 restaurants
-----------
id (uuid)
name
slug
plan
is_active
created_at

2 users
------
id
restaurant_id (FK)
email
password
role
name
is_active

3 tables
-------
id
restaurant_id
number
floor
status

4 categories
----------
id
restaurant_id
name

5 products
--------
id
restaurant_id
category_id
name
price
image
is_available

6 orders
------
id
restaurant_id
table_id
status (pending, cooking, ready, paid)
total
created_at

7 order_items
-----------
id
order_id
product_id
qty
price

8 kitchen_tickets
---------------
id
restaurant_id
order_id
status
started_at
done_at

9 payments
--------
id
restaurant_id
order_id
method (cash, yape, card)
amount
status

10 sales_summary
-------------
id
restaurant_id
date
total_sales
total_orders

11 qr_menus
--------
id
restaurant_id
slug
is_active

12 refresh_tokens
--------------
id
user_id
token_hash
device
ip
expires_at
created_at
revoked_at

Primero Pasos
-----------------------------
nest g module restaurants
nest g module users
nest g module auth

Client (Modulos)
------------------------------
1. Admin
	- Crear restaurante
	- Empleados
	- Productos
	- Reportes
	
2. POS
	- Mesas
	- Pedidos
	- Pagos
	
3. Kitchen Screen
	- Lista de pedidos en tiempo real
	
4. QR Menu
	- Cliente escanea
	- Ve carta
	- Ordena
	
Stack recomendado
----------------------------
Capa		Tech
Backend		NestJS + PostgreSQL + TypeORM
Auth		JWT + Cookies
Realtime	WebSockets
Frontend	React + TanStack Query + Tailwind
Deploy		Nginx + VPS
Docs		Swagger
Logs		Winston


Programar con IA
-----------------------------------
1. AGENTS.md
link -> https://agents.md/


2. Agent Skill
link -> https://agentskills.io/home



COMANDOS PARA EJECUTAR TEST
----------------------------------
# Unit tests (todos los *.spec.ts)
npm run test

# Un archivo específico
npm run test -- plans.service.spec.ts

# Watch mode (re-ejecuta al guardar)
npm run test:watch

# Cobertura de código
npm run test:cov

# E2E tests
npm run test:e2e

# Debug mode
npm run test:debug